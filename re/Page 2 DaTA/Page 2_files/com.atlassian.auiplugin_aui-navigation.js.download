/* module-key = 'com.atlassian.auiplugin:aui-navigation', location = 'js/aui-navigation.js' */
(function(B){function A(C){this.$el=B(C).closest(".aui-nav");this.$treeParent=this.$el.parent("li[aria-expanded]");this.$subtreeToggleIcon=this.$treeParent.children(".aui-nav-subtree-toggle").children("span.aui-icon")}A.prototype.isNested=function(){return this.$treeParent.length===1};A.prototype.isCollapsed=function(){return this.$treeParent.attr("aria-expanded")==="false"};A.prototype.expand=function(){this.$treeParent.attr("aria-expanded","true");this.$subtreeToggleIcon.removeClass("aui-iconfont-collapsed").addClass("aui-iconfont-expanded");return this};A.prototype.collapse=function(){this.$treeParent.attr("aria-expanded","false");this.$subtreeToggleIcon.removeClass("aui-iconfont-expanded").addClass("aui-iconfont-collapsed");return this};A.prototype.toggle=function(){if(this.isCollapsed()){this.expand()}else{this.collapse()}return this};AJS.navigation=AJS._internal.widget("navigation",A);B(function(C){C(document).on("click",".aui-nav li[aria-expanded]",function(G){var D=C(G.target);var F=D.closest("li[aria-expanded]")[0]!==this;if(F){return }var E=D.closest(".aui-nav-subtree-toggle",this).length>0;if(E){G.preventDefault()}var H=AJS.navigation(C(this).children(".aui-nav"));H.toggle()})})})(AJS.$);
